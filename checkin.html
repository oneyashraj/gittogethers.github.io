<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitTogethers Check-In</title>
    <!-- Favicon and external resources -->
    <link rel="icon" href="https://github.githubassets.com/favicons/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- External dependencies -->
    <!-- js-yaml: For parsing configuration file -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
    <!-- jQuery and Form Plugin: For AJAX form submissions -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js" integrity="sha512-YUkaLm+KJ5lQXDBdqBqk7EVhJAdxRnVdT2vtCzwPHSweCzyMgYV/tgGF4/dCyqtCC2eCphz0lRQgatGVdfR0ww==" crossorigin="anonymous"></script>
    <!-- Load functionality -->
    <script type="module" src="shared.js"></script>
    <script type="module" src="checkin.js"></script>
</head>
<body class="checkin-page">
    <!-- Main container for the check-in form -->
    <main class="container homepage">
        <div class="content">
            <!-- Header section with logo and event info -->
            <header class="header-content">
                <div class="logo">
                    <img src="https://avatars.githubusercontent.com/u/98106734?s=200&v=4" alt="Logo" class="logo-image">
                </div>
                <!-- Event name populated from URL parameter or event selection -->
                <p class="tagline" id="event-name">Explore • Build • Support</p>
                <h1>Welcome to this GitTogether!</h1>
            </header>

            <!-- Form container with GitHub username input and check-in form -->
            <div class="form-container">
                <!-- Initial GitHub username validation section -->
                <div class="input-group">
                    <input 
                        type="text" 
                        id="github-username" 
                        placeholder="Enter your GitHub Username"
                        aria-label="GitHub Username"
                        aria-required="true"
                        aria-describedby="error-message">
                </div>
                <button id="proceed-button" aria-label="Submit GitHub username">Proceed</button>
                <p class="error-message" id="error-message" role="alert" aria-live="polite"></p>

                <!-- Check-in section, shown after GitHub validation -->
                <div id="checkin-section" style="display:none;" class="fade-in">
                    <!-- Event selection, shown if not provided in URL -->
                    <div id="event-selection" style="display:none;">
                        <fieldset>
                            <legend>Which GitTogether you'd like to join?</legend>
                            <div class="form-group">
                                <!-- Events populated dynamically for current day only -->
                            </div>
                        </fieldset>
                    </div>

                    <!-- Selected event name display -->
                    <div id="event-name" style="display:none;" class="selected-event"></div>

                    <!-- Check-in form submission -->
                    <form action="https://docs.google.com/forms/d/e/1FAIpQLScZHTJnprfPudGnGZe8yL9VbM4XRw5NGlpy9V_IR1rgqCZHcA/formResponse"
                        target="_self"
                        id="bootstrapForm"
                        method="POST">

                        <!-- Hidden fields for GitHub info and event selection -->
                        <input type="hidden" id="846479285" name="entry.846479285"><!-- GitHub username -->
                        <input type="hidden" id="766830585" name="entry.766830585"><!-- Display name -->
                        <input type="hidden" id="2076383007" name="entry.2076383007"><!-- Event name -->

                        <!-- Form metadata -->
                        <input type="hidden" name="fvv" value="1">
                        <input type="hidden" name="fbzx" value="-1234567890">
                        <input type="hidden" name="pageHistory" value="0">

                        <input class="btn btn-primary" type="submit" value="Check-In Now">
                    </form>
                </div>
            </div>
        </div>
    </main>
</body>
</html>
